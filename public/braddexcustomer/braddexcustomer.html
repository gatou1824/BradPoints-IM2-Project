<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BRADDEX SCUSTOMERS</title>
  <link rel="stylesheet" href="customer.css" />
</head>
<body>

  <header class="header-bar">
    <div class="logo-wrapper">
      <img src="images/logo.jpg" alt="Logo" class="logo">
    </div>
    <div class="logout-wrapper">
      <button class="logout-button">Logout</button>
      <img src="images/default.jpg" alt="Profile" class="profile-pic">
    </div>
  </header>

<div class="main-grid">

  <!-- LEFT SIDE: TRANSACTION HISTORY -->
  <div class="container left-container">
    <h2>TRANSACTION HISTORY</h2>
    <div id="transaction-list">
      <p>Loading transactions...</p>
    </div>
    <!-- The original customer-content div, kept as is -->
    <div id="customer-content">
      <section class="users">
        <div class="user-field">
          <span id="picture"></span>
        </div>
        <div class="user-field">
          <strong>Username:</strong> 
          <span id="name"></span>
        </div>
        <div class="user-field">
          <strong>Email:</strong>
          <span id="email"></span>
        </div>
        <div class="user-field">
          <strong>Code:</strong>
          <span id="code"></span>
        </div>
        <div class="user-field">
          <strong>Points:</strong> 
          <span id="points"></span> Â  
        </div>
        <button id="hide-btn" class="hide-button">CONFIRM</button>
      </section>
    </div>
  </div>

  <!-- AVAILABLE REWARDS -->
  <div class="container center-container">
    <h2>AVAILABLE REWARDS</h2>
    <div id="rewards-content">
      <p>Rewards will be listed here.</p>
    </div>
  </div>

  <!-- RIGHT SIDE: STACKED BOXES -->
  <div class="right-stack">
    
    <!-- CUSTOMER USER -->
    <div class="container right-container">
      <h2>CUSTOMER INFORMATION</h2>
      <div class="user-field">
        <strong>Username:</strong> 
        <span id="name1"></span>
      </div>
      <div class="user-field">
        <strong>Email:</strong>
        <span id="email1"></span>
      </div>
      <div class="user-field">
        <strong>Code:</strong>
        <span id="code1"></span>
      </div>
    </div>

    <!-- POINTS -->
    <div class="container right-container">
      <h2>CURRENT POINTS</h2>
      <p id="total-points-display"></p>
    </div>

  </div>

</div>

<!-- FEEDBACK BOX -->
<div class="container feedback-container">
  <h2>SEND US YOUR FEEDBACK</h2>
  <form id="feedback-form">
    <textarea id="feedback-message" placeholder="Type your feedback here..." rows="5" required></textarea>
    <button type="submit" class="submit-feedback-button">Submit Feedback</button>
  </form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const customer = {
      info: {
        username: "jane_doe",
        email: "jane@example.com",
        code: "AAAAA"
      },
      transactions: [
        { date: "2024-06-01", points: +20 },
        { date: "2024-06-05", points: -10 },
        { date: "2024-06-09", points: +15 },
        { date: "2024-06-15", points: +5 }
      ]
    };

    // Fill in customer info (right boxes)
    document.getElementById("name1").textContent = customer.info.username;
    document.getElementById("email1").textContent = customer.info.email;
    document.getElementById("code1").textContent = customer.info.code;

    // Generate transaction history (left box)
    let totalPoints = 0;
    const transactionContainer = document.getElementById("transaction-list");
    transactionContainer.innerHTML = ""; 

    customer.transactions.forEach(t => {
      totalPoints += t.points;
      const row = document.createElement("div");
      row.classList.add("user-field"); 
      row.innerHTML = `
        <strong>${t.date}:</strong>
        <span style="color: ${t.points >= 0 ? 'lightgreen' : 'salmon'};">
          ${t.points > 0 ? '+' : ''}${t.points} points
        </span>
      `;
      transactionContainer.appendChild(row);
    });

    // Update points in the bottom right box
    document.getElementById("total-points-display").textContent = totalPoints + " points";

    //  Mock Available Rewards 
const rewards = [
  { name: "Free Drink", cost: 10 },
  { name: "Small Fries", cost: 15 },
  { name: "Burger Combo", cost: 30 },
  { name: "Braddex Shirt", cost: 50 },
  { name: "Exclusive Voucher", cost: 100 }
];

const rewardsContainer = document.getElementById("rewards-content");
rewardsContainer.innerHTML = ""; 

rewards.forEach(reward => {
  const item = document.createElement("div");
  item.classList.add("reward-item");
  item.innerHTML = `
    <strong>${reward.name}</strong><br>
    <span style="color: #941A1C;">Cost: ${reward.cost} points</span>
  `;
  rewardsContainer.appendChild(item);
});

    //  Feedback Form Submission 
    const feedbackForm = document.getElementById("feedback-form");
    if (feedbackForm) {
      feedbackForm.addEventListener("submit", (event) => {
        event.preventDefault(); 
        const feedbackMessage = document.getElementById("feedback-message").value;
        if (feedbackMessage.trim() !== "") {
         
          console.log("Feedback submitted:", feedbackMessage);
          alert("Thank you for your feedback!"); 
          document.getElementById("feedback-message").value = ""; 
        } else {
          alert("Please enter your feedback before submitting.");
        }
      });
    }
  });
</script>

</body>
</html>
